function user_c(t){var e="",n="",i="",s=encodeURIComponent(window.document.location.href),o=window["BD_PS_C"+(new Date).getTime()]=new Image,a=bds&&bds.util&&bds.util.domain?bds.util.domain.get("http://nsclick.baidu.com"):"http://nsclick.baidu.com";for(v in t){switch(v){case"title":n=encodeURIComponent(t[v].replace(/<[^<>]+>/g,""));break;case"url":n=encodeURIComponent(t[v]);break;default:n=t[v]}e+=v+"="+n+"&"}return i="&mu="+s,o.src=a+"/v.gif?pid=201&pj=psuser&"+e+"path="+s+"&t="+(new Date).getTime(),!0
}function form_submit(){var t=$("#kw"),e=t.val();return e&&(e=bds.util.limitWd(e),bds.comm.resultSug.setKey(e)),!0}jQuery&&jQuery.extend({stringify:function(t){function e(t){return/["\\\x00-\x1f]/.test(t)&&(t=t.replace(/["\\\x00-\x1f]/g,function(t){var e=s[t];return e?e:(e=t.charCodeAt(),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))})),'"'+t+'"'}function n(t){var e,n,i,s=["["],o=t.length;for(n=0;o>n;n++)switch(i=t[n],typeof i){case"undefined":case"function":case"unknown":break;default:e&&s.push(","),s.push($.stringify(i)),e=1
}return s.push("]"),s.join("")}if("JSON"in window)return JSON.stringify(t);var i=typeof t;if("object"!=i||null===t)return"string"==i&&(t='"'+t+'"'),String(t);var s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};switch(typeof t){case"undefined":return"undefined";case"number":return isFinite(t)?String(t):"null";case"string":return e(t);case"boolean":return String(t);default:if(null===t)return"null";if(t instanceof Array)return n(t);var o,a,r=["{"],u=$.stringify;for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l))switch(a=t[l],typeof a){case"undefined":case"unknown":case"function":break;
default:o&&r.push(","),o=1,r.push(u(l)+":"+u(a))}return r.push("}"),r.join("")}},format:function(t,e){t=String(t);var n=Array.prototype.slice.call(arguments,1),i=Object.prototype.toString;return n.length?(n=1==n.length&&null!==e&&/\[object Array\]|\[object Object\]/.test(i.call(e))?e:n,t.replace(/#\{(.+?)\}/g,function(t,e){var s=n[e];return"[object Function]"==i.call(s)&&(s=s(e)),"undefined"==typeof s?"":s})):t},subByte:function(t,e,n){var i=[],s=t.split("");n=n||"…";for(var o=0,a=s.length;a>o;o++)s[o].charCodeAt(0)>255&&i.push("*"),i.push(s[o]);
return e&&e>0&&i.length>e?s=i.join("").substring(0,e-1).replace(/\*/g,"")+n:t},getByteLength:function(t){for(var e=[],n=t.split(""),i=0,s=n.length;s>i;i++)n[i].charCodeAt(0)>255&&e.push("*"),e.push(n[i]);return e.length},_isValidKey:function(t){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(t)},setCookie:function(t,e,n){if(e=encodeURIComponent(e),jQuery._isValidKey(t)){n=n||{};var i=n.expires;"number"==typeof n.expires&&(i=new Date,i.setTime(i.getTime()+n.expires)),document.cookie=t+"="+e+(n.path?"; path="+n.path:"")+(i?"; expires="+i.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")
}},getCookie:function(t){var e="";if(jQuery._isValidKey(t)){var n=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),i=n.exec(document.cookie);if(i&&(e=i[2]||null,"string"==typeof e))return e=decodeURIComponent(e)}return null},removeCookie:function(t,e){e=e||{},e.expires=new Date(0),jQuery.setCookie(t,"",e)}}),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];
return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,s,o,a,r=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;o>n;n+=1)a[n]=str(n,u)||"null";
return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+r+"]":"["+a.join(",")+"]",gap=r,s}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(i=rep[n],s=str(i,u),s&&a.push(quote(i)+(gap?": ":":")+s));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(s=str(i,u),s&&a.push(quote(i)+(gap?": ":":")+s));return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+r+"}":"{"+a.join(",")+"}",gap=r,s}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;
if(gap="",indent="","number"==typeof n)for(i=0;n>i;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,s=t[e];if(s&&"object"==typeof s)for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(i=walk(s,n),void 0!==i?s[n]=i:delete s[n]);return reviver.call(t,e,s)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)
})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),$.getScript("//passport.baidu.com/passApi/js/uni_login_wrapper.js?cdnversion="+(new Date).getTime(),function(){bds.se.passv3=passport.pop.init({apiOpt:{loginType:1,product:"xueshu",subpro:bds.comm.subpro||"",u:window.document.location.href,safeFlag:0,staticPage:location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/mid/static/user/html/v3Jump.html"},cache:!1,tangram:!0,authsite:["qzone","tsina"],authsiteCfg:{act:"implicit",display:"popup",jumpUrl:location.protocol+"//"+window.document.location.href.split("/")[2]+"/cache/mid/static/user/html/xd.html",onBindSuccess:function(t,e){var n=decodeURIComponent(e.passport_uname||e.displayname);
return bds.se.login.success(n),!1}},onLoginSuccess:function(t){t.returnValue=!1;var e=t.rsp.data.userName||t.rsp.data.mail||t.rsp.data.phoneNumber;bds.se.login.success(e)},onSubmitStart:function(){},onSubmitedErr:function(){},onSystemErr:function(){},onShow:function(){},onHide:function(){},onDestroy:function(){}})}),bds.se.loginCallbackFunc=null,bds.se.login={init:function(){this.setUserInfo();var t=this;bds.comm.loginAction.push(function(e,n){t.setUserInfo(n)})},setUserInfo:function(t){var e=t||bds.comm.user;
if(!e)return void $("#u .reg").attr("href","https://passport.baidu.com/v2/?reg&regType=1&tpl=xueshu&u="+encodeURIComponent(document.location.href));var n=$("#user");n.find(".logout").attr("href","//passport.baidu.com/?logout&tpl=xueshu&u="+encodeURIComponent(document.location.href))},open:function(t){bds.se.loginCallbackFunc=t||function(){window.document.location.reload(!0)},bds.se.passv3.show()},success:function(t){if(bds.comm){bds.comm.user=t,bds.comm.username=t,window.bdUser=t,bds.se.passv3.hide(),bds.se.loginCallbackFunc.call(window,1,t);
for(var e=0;e<bds.comm.loginAction.length;e++)bds.comm.loginAction[e].call(window,1,t)}}},bds.se.login.init(),window._invoke_login=function(t,e){bds.se.login.open(t,e)},$("#lb")&&$("#lb").click(function(){bds.se.login.open()}),bds.util.showDialog=function(t,e,n){var i="",s="",o=$(".subsDialog");if(200==t?(i=e||"操作成功",s="c-icon-ok"):(i=e||"操作失败",s="c-icon-fail"),o.length)o.find(".texttip").text(i),o.find(".c-icon").removeClass("c-icon-ok c-icon-fail").addClass(s);else{var a=['<div class="subsDialog">','<i class="c-icon '+s+'"></i>','<span class="texttip">'+i+"</span>","</div>"].join("");
$(a).appendTo("body"),o=$(".subsDialog"),o.css({height:"42px",padding:"0 20px",color:"#69c","font-size":"14px","line-height":"42px","text-align":"center",border:"1px solid #ccc","background-color":"#fff",position:"absolute",display:"none","z-index":"1001"}),o.find(".texttip").css({"padding-left":"6px",_zoom:1}),o.find(".c-icon").css({_display:"none"})}n?o.css({top:n.top||Math.floor(($(window).height()-o.outerHeight())/2+$(window).scrollTop()),left:Math.floor(n.left?n.left-o.outerWidth()/2:($(window).width()-o.outerWidth())/2)}).fadeIn():o.css({top:Math.floor(($(window).height()-o.outerHeight())/2+$(window).scrollTop()),left:Math.floor(($(window).width()-o.outerWidth())/2)}).fadeIn(),setTimeout(function(){o.fadeOut()
},1e3)},bds=window.bds||{},bds.se=bds.se||{},bds.se.taskTipsDialog=function(){function t(){}function e(e){1*bds.comm.isLogin===1&&bds.comm.taskTipsShow&&$.ajax({url:"//xueshu.baidu.com/usercenter/show/userinfo?cmd=update_task",dataType:"jsonp",data:{task_type:e},success:function(e){200===e.status&&(e.achievement?t(e.achievement):e.daytask&&t(e.daytask))}})}return{taskRequest:e,showDialog:t}}(),!function(){var t=/sc_tasktype={(.*)}/,e=bds.comm.sc_f_para,n=null,i="";e&&(n=e.match(t),n&&n[1]&&(i=n[1],bds.se.taskTipsDialog.taskRequest(i))),bds.comm.ishome&&bds.se.taskTipsDialog.taskRequest("firstLogin")
}(),bds.se.cookie=function(){function t(t,e,n){var i=window.location.hostname;n=n||{},"www.baidu.com"!==i&&(n.path="/",n.domain=i,$.setCookie(t,e,n))}function e(t){return $.getCookie(t)}return{get:e,set:t}}(),bds=window.bds||{},bds.util=bds.util||{},bds.util.limitWd=function(t){var e=t.split(""),n=e.length,i=0,s=255;if(127>=n)return t;for(var o=0;n>o;o++){if(i+=e[o].charCodeAt(0)>255?2:1,i===s)return e=t.substring(0,o+1);if(i>s)return e=t.substring(0,o)}return t},!function(){function t(t){this.sugcontainer=null,this.timer=null,this.visible=!1,this.sugCount=t.sugCount||10,this.ipt=t.ipt||$("#kw")[0],this.form=t.form||$("#form")[0],this.submission=t.submission||null,this.index=-1,this.query=this.ipt&&this.ipt.value||"",this.value=this.query,this.showValue=this.query,this.reqValue="",this.inputValue=this.query,this.sugValue="",this.init()
}bds.se.sug=function(e){var e=e||{},n=new t(e);return n.outInterface()},t.prototype={init:function(){var t=this;t.initSug(),t.addEvent(),t.clearStat()},render:function(t){function e(t,e){return e&&t&&(t=$.trim(t),e=$.trim(e),t=0==t.indexOf(e)&&t!==e?n(t,e):i(t)),t}function n(t,e){t=i(t),e=i(e);var n=e,s=e.length,o="<b>"+t.substring(s)+"</b>";return n+o}function i(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")}var s="",o=this,a=o.ipt.value;s+="<ul>";for(var r=0;r<o.sugCount;r++)t[r]&&(s+='<li data-query="'+t[r]+'" data-index="'+r+'">',s+=e(t[r],a),s+="</li>");
s+="</ul>",$(".sug-container").length||o.initSug(),o.sugcontainer.html(s),o.showSug()},request:function(t){var e=this;if(e.reqValue=t,""!==t){if(bds&&bds.util&&bds.util.domain&&bds.util.domain.get)var n=bds.util.domain.get("http://nssug.baidu.com/");else var n="http://nssug.baidu.com/";$.ajax({dataType:"jsonp",async:!0,url:n+"su?wd="+t+"&prod=xueshu&json=1&ie=utf-8",jsonp:"cb",timeout:5e3,success:function(t){t.s&&0!==t.s.length&&e.render(t.s)}})}},startCircle:function(){var t=this;t.timer||(t.timer=setTimeout(function(){t.value!=t.ipt.value&&t.showValue!=t.ipt.value&&(t.inputValue=t.showValue=t.value=t.ipt.value,t.request(t.value)),t.timer=setTimeout(arguments.callee,200)
},200))},stopCircle:function(){var t=this;t.timer&&(clearTimeout(t.timer),t.timer=null)},hideSug:function(){this.sugcontainer.hide(),this.visible=!1},showSug:function(){var t=this;t.index=-1,t.ipt.value===t.reqValue&&""!==t.ipt.value?t.sugcontainer.find("li").length&&t.sugcontainer.show():t.request(t.ipt.value),t.visible=!0},selectSug:function(t){var e=this,n=e.sugcontainer.find("li");e.blurSug(n);var i=$($(n)[t]),s=i.attr("data-query");-1!=t?(e.focusSug(i,s),e.sugValue=e.showValue=e.value=e.ipt.value=s,e.addStat("rsv_n",1)):(e.showValue=e.value=e.ipt.value=e.inputValue,e.sugValue="",e.removeStat("rsv_n"))
},blurSug:function(t){t.removeClass("sug-s")},focusSug:function(t){t.addClass("sug-s")},pressUp:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index--,t.index<-1&&(t.index=e-1),t.selectSug(t.index)}},pressDown:function(){var t=this;if("none"!==t.sugcontainer.css("display")){var e=t.sugcontainer.find("li").length;t.index++,t.index>=e&&(t.index=-1),t.selectSug(t.index)}},initSug:function(){this.sugcontainer=$(".sug-container"),this.sugcontainer.length||(this.sugcontainer=$('<div class="sug-container"></div>'),this.sugcontainer.appendTo($(this.form)))
},addStat:function(t,e){var n=this,i=$(n.form).find('input[type="hidden"][name="'+t+'"]');i.length?$(i).val(e):$(n.form).append('<input type="hidden" name="'+t+'" value="'+e+'"/>')},removeStat:function(t){var e=this;$(e.form).find('input[type="hidden"][name="'+t+'"]').remove()},clearStat:function(){var t=this;t.removeStat("rsp"),t.removeStat("rsv_n")},formSubmit:function(t){var e=this,n=!0;-1!==e.index&&(e.addStat("f",3),e.addStat("rsp",e.index)),$.isFunction(e.submission)&&(n=e.submission.call(e.form,t)),n&&e.form.submit()
},addEvent:function(){var t=this;$(t.ipt).on("focus",function(){t.startCircle()}).on("click",function(e){t.showSug(),e.stopPropagation()}).on("keydown",function(e){e=e||window.event,38==e.keyCode&&(e.preventDefault(),t.pressUp()),40==e.keyCode&&(e.preventDefault(),t.pressDown()),(9==e.keyCode||27==e.keyCode)&&t.hideSug(),8==e.keyCode&&setTimeout(function(){""===t.ipt.value&&t.hideSug()},100),13==e.keyCode&&(t.hideSug(),t.addStat("rsv_sug2",0)),86==e.keyCode&&e.ctrlKey&&t.addStat("rsv_n",2)}),t.sugcontainer.on("mouseenter","li",function(){var e=$(this).attr("data-query");
t.blurSug(t.sugcontainer.find("li")),t.focusSug($(this),e),t.index=1*$(this).attr("data-index")}).on("mouseleave","li",function(){$(this).removeClass("sug-s")}).on("click","li",function(){var e=$(this).attr("data-query");t.sugValue=t.showValue=t.value=t.ipt.value=e,t.hideSug(),t.addStat("rsv_sug2",1),t.formSubmit()}),$(window).on("blur",function(){t.hideSug()}),$(document).on("click",function(){t.hideSug(),t.ipt.blur()}),t.form&&$(t.form).submit(function(e){return t.formSubmit(e),!1})},outInterface:function(){var t=this;
return{setKey:function(e){t.ipt.value=t.value=t.inputValue=t.showValue=e},visible:function(){return t.visible},show:function(){return t.showSug()},hide:function(){return t.hideSug()},start:function(){return t.startCircle()},stop:function(){return t.stopCircle()},formSubmit:function(){return t.formSubmit()}}}}}(),!function(t){function e(t,n,i){if(i=i||[],n=n||document,t===n)return i;if(t.parentNode!==n&&(i=e(t.parentNode,n,i)),t.previousSibling){var s=1,o=t.previousSibling;do 1==o.nodeType&&o.nodeName==t.nodeName&&s++,o=o.previousSibling;
while(o)}return 1==t.nodeType&&i.push(t.nodeName.toLowerCase()+(s>1?s:"")),i}function n(e,n,i){for(var s=n,a=o,r=a.length,u=e.join(" ");s!==i;){for(var l=0;r>l;l++)if(t(s).hasClass("OP_LOG_"+a[l]))return a[l].toLowerCase();s=s.parentNode}return/\bh3\d*\b/.test(u)?"title":/\bimg\d*\b/.test(u)?"img":/\ba\d*\b/.test(u)?"link":/\b(input|select|button|textarea|datalist)\d*\b/.test(u)?"input":/\blabel\d*\b/.test(u)&&n.getElementsByTagName("input").length>0?"input":""}function i(){t("body").on("mousedown",function(n){var n=window.event||n,i=n.srcElement||n.target,o=t(i);
try{for(var a,r,u=o;u.length&&!(u.hasClass("result")||u.hasClass("result-op")||u.hasClass("xpath-log"));)u=u.parent();if(!u.length)return;u.hasClass("result-op")?a="alop":u.hasClass("result")&&(a="as"),r=u.get(0);var l=e(i,r);s(l,i,r,a)}catch(n){}}),t(".sc_common_guidhint").on("mousedown",function(){var e=t(this),n=e.get(0),i=window.event||i,s=i.srcElement||i.target,o={};if(o.hintTpl=e.attr("data-tpl"),o.hintId=e.attr("data-id"),o.hintId&&o.hintId){var a,r,u=s;do{if(a=u.getAttribute("data-click"))try{a=new Function("return "+a)();
for(r in a)"undefined"==typeof o[r]&&a.hasOwnProperty(r)&&(o[r]=a[r])}catch(i){}u=u.parentNode}while(u&&u!==n.parentNode);window.ns_c_xs(o)}})}function s(e,i,s,o){if(null==i.getAttribute("data-nolog")){var a=n(e,i,s);if(!a)return!1;if("title"==a&&!/\ba\d*\b/.test(e))return!1;var r,u=e.length,l=i,c="",p=s.getAttribute("srcid")||"",d=s.getAttribute("mu")||"",h=s.getAttribute("tpl")||"",f=1==i.nodeType?i.tagName.toLowerCase():"";if("input"==a)if(/input|textarea/.test(f))c=i.value,i.type&&"password"==i.type.toLowerCase()&&(c="");
else if(/select|datalist/.test(f)){if(i.children.length>0){var g=i.selectedIndex||0;c=i.children[g>-1?g:0].innerHTML}}else c=i.innerHTML||i.value||"";else if("img"==f&&(c=i.title),!c)for(;u>1;){if(u--,/^a\d*\b/.test(e[u])){if(r=l.href,c=l.innerText,null!=l.getAttribute("data-nolog"))return;break}if(l.className&&/OP_LOG_/.test(l.className)){c=l.innerText;break}l=l.parentNode}r&&"#"!==r.slice(-1)&&/^http/.test(r)||(r=d);var m={url:1,title:1},v={rsv_xpath:e.join("-")+"("+a+")",title:t.trim(c)||"",url:r};
s.id&&s.id.match(/^\d+$/)&&(v.p1=s.id),p&&(v.rsv_srcid=p),h&&(v.rsv_tpl=h);var b,_,w;l=i;do{if(null!=l.getAttribute("data-nolog"))return;if(b=l.getAttribute("data-click"))try{b=new Function("return "+b)();for(_ in b)"fm"==_&&null===b.fm&&(w=!0),("undefined"==typeof v[_]||m[_])&&b.hasOwnProperty(_)&&(v[_]=b[_])}catch(x){}l=l.parentNode}while(l&&l!==s.parentNode);for(var y in v)null===v[y]&&delete v[y];if("title"==a?"mu"in v&&delete v.mu:v.mu||(v.mu=d),w)"fm"in v&&delete v.fm;else if("input"==a&&(v.fm="beha"),v.fm||(v.fm=o),!v.fm)return;
window.ns_c_xs(v)}}var o=["TITLE","LINK","IMG","BTN"];t(document).ready(function(){i()})}(jQuery),bds=window.bds||{},bds.se=bds.se||{},bds.se.quote=function(){function t(t){t=t||{},f||(f=1,n(),e(),g=$.extend(g,t),i())}function e(){$("#"+g.cssId).length||$('<style id="'+g.cssId+'">'+m+"</style>").appendTo($("head"))}function n(){$(v).appendTo($("body")),w=$("#sc_quote_wr"),x=$("#sc_quote_bg"),y=$(".sc_quote_content")}function i(){w.on("click",".sc_quote_list_item_r",function(){var t=$(this);t.focus(),s(t.attr("id"))
}),w.on("click",".sc_quote_list_item_l",function(){var t=$(this),e=t.siblings(".sc_quote_list_item_r"),n=e.attr("id");e.focus(),s(n)}),w.on("click",".sc_md_cls",function(t){d(),t.preventDefault()}),x.on("click",function(t){d(),t.stopPropagation()}),g.needLog&&w.on("mousedown",".sc_quote_citi a",function(){var t=$(this);o(t.attr("data-type"))}),g.eventBtnClass&&$("body").on("click",g.eventBtnClass,function(){return g.eventFn($(this)),_hmt&&_hmt.push(["_trackPageview","/virtual/quote"]),!1})}function s(t){k(t),o($("#"+t).attr("data-type"))
}function o(t){g.needLog&&g.logFuc(t)}function a(t){0===t.errno?c(t):p();var e=0,n=0,i=$(window).height(),s=navigator.userAgent,o=/MSIE (\d+).*/,a=s.match(o);e=a&&parseInt(a[1])<8?(i-220)/2:(i-w.outerHeight())/2,e>300&&(e-=100),n=$(window).scrollTop()+Math.max(e,10),w.css({top:n,left:($(document).width()-580)/2,display:"block"});var r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),u=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);x.css({height:r,width:u}).show(),$("#sc_quote_wr #sc_cit0").click()
}function r(t){return t=t.replace(/#i\{/g,"<i>"),t=t.replace(/\}/g,"</i>")}function u(t){var e=["<p>复制并粘贴一种已设定好的引用格式，或利用其中一个链接导入到文献管理软件中。</p>",'<div class="sc_quote_list">','<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">GB/T 7714</div>','<div class="sc_quote_list_item_r" data-type="GB/T" tabindex="0" id="sc_cit0">'+r(t.sc_GBT7714)+"</div>","</div>",'<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">MLA</div>','<div class="sc_quote_list_item_r" data-type="MLA" tabindex="0" id="sc_cit1">'+r(t.sc_MLA)+"</div>","</div>",'<div class="sc_quote_list_item">','<div class="sc_quote_list_item_l">APA</div>','<div class="sc_quote_list_item_r" data-type="APA" tabindex="0" id="sc_cit2">'+r(t.sc_APA)+"</div>","</div>","</div>"].join("");
return e}function l(t){var e="",n="",i="",s=["bib","enw","ris","txt","net"],o=["BibTeX","EndNote","RefMan","NoteFirst","NoteExpress"];e=g.reqUrl+"&url="+encodeURIComponent(t.request.url)+"&sign="+t.request.sign+"&diversion="+q;for(var a=0,r=s.length;r>a;a++)i=e+"&t="+s[a],n+='<a href="'+i+'" target="_blank" data-type="'+o[a]+'">'+o[a]+"</a>";var u=['<div class="sc_quote_citi">','<span class="sc_quote_citi_tip">导入链接</span>',n,"</div>"].join("");return u}function c(t){var e="";e=u(t),e+=l(t),y.html(e)
}function p(){y.html(_)}function d(){w.hide(),x.hide()}function h(t){t.t="cite",q=t.diversion,y&&(y.html(b),$.ajax({url:g.reqUrl,data:t,dataType:"jsonp",timeout:3e3,success:function(){},complete:function(t,e){a("success"===e?t.responseJSON:{errno:-1})}}))}var f=0,g={needLog:0,logFuc:function(){},eventBtnClass:"",eventFn:function(){},cssId:"quote_css_style",reqUrl:"//xueshu.baidu.com/u/citation?"},m=["#sc_quote_bg{display: none;background:#666;z-index:990;opacity:.5;filter:alpha(opacity=50);filter:alpha(opacity=50);position:absolute;top:0;left:0;width:100%;height:100%}","#sc_quote_wr{display:none;color:#000;position:absolute;z-index:999;width:580px;padding:18px 0 30px 0;background:#fff;box-shadow:2px 2px 8px rgba(0,0,0,0.65);-moz-box-shadow:2px 2px 8px rgba(0,0,0,0.65);-webkit-box-shadow:2px 2px 8px rgba(0,0,0,0.65);-ms-box-shadow:2px 2px 8px rgba(0,0,0,0.65)}","#sc_quote_wr .sc_quote_top{margin:0 20px}","#sc_quote_wr .sc_md_cls{float:right}","#sc_quote_wr .sc_quote_title,.sc_savelink_title{font-size:14px;font-weight:bold;width:100px;height:20px}","#sc_quote_wr .sc_quote_content{margin:13px 40px 0}","#sc_quote_wr .sc_quote_list_item_r i{position:relative;font-style:italic;}","#sc_quote_wr .sc_quote_list_item{*zoom:1;clear:both;border-top:1px solid #e6e6e6;padding:10px 0;line-height:1.24em;height:auto;overflow:hidden}","#sc_quote_wr .sc_quote_list_item_l{float:left;color:#666;width:63px;text-align:right;margin-right:12px}","#sc_quote_wr .sc_quote_list_item_r{float:left;width:423px}","#sc_quote_wr .sc_quote_list{margin-top:10px}","#sc_quote_wr .sc_quote_citi{border-top:1px solid #e6e6e6;padding-top:13px;color:#666}","#sc_quote_wr .sc_quote_citi a{margin-right:10px;white-space:nowrap;line-height:21px;text-decoration:none;color:#005cd9}","#sc_quote_wr .sc_quote_citi a:hover{text-decoration:underline;}","#sc_quote_wr .sc_quote_citi_tip{padding:0 12px}","#sc_quote_wr .sc_quote_loading,.sc_quote_error{height:100px;line-height:100px;margin-left:40px;color:#505961}"].join(""),v=['<div id="sc_quote_bg"></div>','<div id="sc_quote_wr">','<div class="sc_quote_top">','<a href="javascript:;" class="sc_md_cls c-icon-close-hover"><i class="c-icon c-icon-close"></i></a>','<h3 class="sc_quote_title">引用</h3>',"</div>",'<div class="sc_quote_content">',"</div>","</div>"].join(""),b='<div class="sc_quote_loading">数据加载中...</div>',_='<div class="sc_quote_error">抱歉，获取数据失败</div>',w=null,x=null,y=null,q=null,k=window.getSelection?function(t){getSelection().selectAllChildren(document.getElementById(t))
}:function(t){try{var e=document.body.createTextRange();e.moveToElementText(document.getElementById(t)),e.select()}catch(n){}};return{init:t,show:h,hide:d}}(),bds=window.bds||{},bds.se=bds.se||{},function(){function t(t){this.opts={paperBtn:null,btnText:"我要求助",paperText:null,btnTextSuc:"查看求助",btnTextFail:"求助失败",susClass:"paperhelped",reqData:{}},this.opts=$.extend(this.opts,t),this.opts.show=0,this.init()}bds.se.paperhelp=function(e){return new t(e)},t.prototype={constructor:t,__init__:0,reqUrl:"//xueshu.baidu.com/usercenter/data/paperhelp",weixinReqUrl:"//xueshu.baidu.com/usercenter/data/PaperHelpWeiXin",weixinReqUrl2:"//xueshupload.baidu.com/usercenter/data/PaperHelpWeiXin",jumpUrl:"//xueshu.baidu.com/u/paperhelp?tab=my_sos",$paperDialog:null,$bg:null,$paperContentWr:null,reqingHtml:"",cmd:"new_help",weixinHelpTimeout:null,curDialogObj:null,init:function(){return this.opts.paperBtn&&this.opts.paperText?(this.__init__||(t.prototype.__init__=1,this.initDom(),this.addEvent(),this.getReqingHtml()),t.prototype.curDialogObj=this,void this.getFortune()):!1
},initDom:function(){var e=['<div class="paperhelp-dialog">','<a href="javascript:;" class="paperhelp-close-icon paperhelp-close c-icon-close-hover"><i class="c-icon c-icon-close"></i></a>','<div class="paperhelp-wrapper"></div>',"</div>"].join("");$(e).appendTo($("body")),t.prototype.$paperDialog=$(".paperhelp-dialog"),t.prototype.$bg=$("#sc_md_s"),t.prototype.$paperContentWr=$(".paperhelp-dialog .paperhelp-wrapper")},addEvent:function(){var e=this.$paperDialog;e.on("click",".paperhelp-submit",function(e){t.prototype.curDialogObj.helpSubmit(),e.preventDefault()
}),e.on("click",".paperhelp-close",function(e){t.prototype.curDialogObj.hideDialog(),e.preventDefault()}),e.on("click",".close-link",function(){t.prototype.curDialogObj.hideDialog()}),this.$bg.on("click",function(){t.prototype.curDialogObj.hideDialog()})},req:function(t){var e=this;$.ajax({url:e.reqUrl,dataType:"jsonp",data:t.data,success:function(e){200===e.status?t.success&&t.success(e):t.error&&t.error(e)},complete:function(e,n){("timeout"===n||"error"===n)&&t.error&&t.error()}})},helpSubmit:function(t,e){var n=this,i=n.opts.reqData;
i.cmd=n.cmd,i.help_channel=e,t&&(i.tag_id=t),n.req({data:i,success:function(t){n.helpSuccess(t)},error:function(t){n.helpFail(t)}}),t||n.ongoing()},getFortune:function(){var t=this;$.ajax({url:t.weixinReqUrl,dataType:"jsonp",data:{cmd:"help_method"}}).done(function(e){200===e.status?(t.showDialog("new-paperhelp",e),t.startWeixinReq()):bds.util.showDialog(e.status,"操作失败")}).fail(function(){bds.util.showDialog(500,"请求超时")})},stopWeixinReq:function(){clearTimeout(t.prototype.weixinHelpTimeout)},startWeixinReq:function(){var e=this;
this.opts.show&&(t.prototype.weixinHelpTimeout=setTimeout(function(){e.weixinHelpRes()},400))},weixinHelpRes:function(){var e=this,n=$(".paperhelp-title").attr("data-tagid");$.ajax({url:e.weixinReqUrl2,dataType:"jsonp",data:{cmd:"get_help_status",tag_id:n}}).done(function(i){200===i.status?t.prototype.curDialogObj.helpSubmit(n,i.data.help_channel):-902===i.status?(e.hideDialog(),bds.util.showDialog(500,"操作超时")):-903===i.status?e.startWeixinReq():-102===i.status&&(e.hideDialog(),bds.util.showDialog(500,"您已退出登陆"))
}).fail(function(){e.startWeixinReq()})},getDialogHtml:function(t,e){var n="",i="",s="",o="//xueshu.baidu.com";switch(t){case"new-paperhelp":var a=["<h4>求助方法3：</h4>",'<p>需要支付<span class="colorful">5</span>财富值,您目前有<span class="colorful">'+e.fortune+"</span>财富值</p>",'<span class="paperhelp-submit button">确认</span>'].join("");e.fortune<5&&(a=["<h4>求助方法3：</h4>",'<p>需要支付<span class="colorful">5</span>个财富值</p>','<p>您的财富值不足，您目前只有<span class="colorful">'+e.fortune+"</span>财富值</p>",'<p>查看<a href="'+o+'/u/user?cmd=help&tab=fortune#makefortune" target="_blank" class="close-link">如何获取财富值</a></p>'].join("")),i=['<div class="paperhelp-title" data-tagid="'+e.tag_id+'">','<span class="colorful">求助文献</span>',"</div>",'<div class="paperhelp-normal">','您将通过<a href="'+o+'/u/paperhelp" target="_blank">文献互助</a>平台发起求助，成功后即可获取论文全文。',"</div>",'<div class="paperhelp-method-wr">','<div class="method1 method">','<div class="weixintext">',"<h4>求助方法1：</h4>",'<p><span class="bdIcon"></span>手机百度扫描二维码，</p>','<p>每天可免费求助<span class="colorful">5</span>篇</p>','<p><a class="close-link" href="http://mo.baidu.com" target="_blank">下载手机百度</a></p>',"</div>",'<img src="'+e.xiongzhang_qrcodeurl+'" alt="" width="100" height="100" class="xiongzhangimg">',"</div>",'<div class="method2 method">','<div class="weixintext">',"<h4>求助方法2：</h4>",'<p><span class="wxIcon"></span>微信扫描二维码，</p>','<p>每天可免费求助<span class="colorful">2</span>篇</p>',"</div>",'<img src="'+e.qrcode_url+'" alt="" width="100" height="100" class="weixinimg">',"</div>",'<div class="method3 method">',a,"</div>","</div>"].join(""),s="";
break;case"paperhelp-success":var r="";i=['<div class="paperhelp-title">','<span class="colorful">您的求助发布成功！</span>',"</div>",'<div class="paperhelp-normal">','<p>您现在可以去<a class="close-link" href="'+o+'/u/paperhelp?tab=my_sos" target="_blank">我的求助</a>查看进展</p>','<p>您还可以去<a class="close-link" href="'+o+'/u/paperhelp" target="_blank">互助大厅</a>响应他人的求助，赚取财富值!</p>',"</div>",r].join(""),s='<span class="paperhelp-close button">确认</span>';break;case"paperhelp-forbidden":i=['<div class="paperhelp-title">禁止求助</div>','<div class="paperhelp-normal">',"<p>系统检测到您在应助过程中有作弊行为，已取消您的求助权</p>",'<p>详细说明见<a class="close-link" href="'+o+'/u/paperhelp?tab=help_center" target="_blank">帮助中心</a></p>',"</div>"].join(""),s='<span class="paperhelp-close button">确认</span>';
break;case"paperhelp-complained":i=['<div class="paperhelp-title">禁止求助</div>','<div class="paperhelp-normal">',"<p>您已被投诉，已取消您的求助权"+e+"</p>",'<p>详细说明见<a class="close-link" href="'+o+'/u/paperhelp?tab=help_center" target="_blank">帮助中心</a></p>',"</div>"].join(""),s='<span class="paperhelp-close button">确认</span>'}return n=['<div class="paperhelp-content">',i,"</div>"].join(""),s&&(n+='<div class="paperhelp-buttons">'+s+"</div>"),n},getReqingHtml:function(){var e="",n=navigator.userAgent,i=/MSIE (\d+).*/,s=n.match(i);
e=s&&parseInt(s[1])<9?"求助中...":['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join(""),t.prototype.reqingHtml=e},ongoing:function(t){var e=this.reqingHtml;"fortune"===t?this.opts.paperText.html(e):(this.opts.paperText.html(e),this.$paperDialog.find(".paperhelp-buttons").html(e))},hideDialog:function(){this.$bg.hide(),this.$paperDialog.hide(),this.opts.show=0,this.stopWeixinReq()},showDialog:function(t,e){var n=this.$paperDialog,i=this.$bg;
if("none"===n.css("display")){this.opts.show=1;var s=this.getDialogHtml(t,e);this.$paperContentWr.html(s);var o=($(window).height()-n.outerHeight())/2,a=($(document).width()-n.outerWidth())/2;o=$(window).scrollTop()+Math.max(o,10),n.css({top:o,left:a}).show();var r=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),u=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth);i.css({height:r,width:u}).show()}},helpSuccess:function(t){if(this.opts.show){var e=this.getDialogHtml("paperhelp-success",t);
this.$paperContentWr.html(e)}var n=this.opts.btnTextSuc;this.opts.paperText.text(n),this.opts.paperBtn.attr({href:this.jumpUrl,"data-help":"2"}),this.opts.paperBtn.addClass(this.opts.susClass),t.achievement?bds.se.taskTipsDialog.showDialog(t.achievement):t.daytask&&bds.se.taskTipsDialog.showDialog(t.daytask)},helpFail:function(t){var e=this.opts.btnTextFail;if(this.opts.paperText.text(e),this.opts.show)if(t&&-700==t.status){var n=this.getDialogHtml("paperhelp-forbidden");this.$paperContentWr.html(n)
}else if(t&&-704==t.status){var n=this.getDialogHtml("paperhelp-complained",t.data.punish);this.$paperContentWr.html(n)}else t&&-707==t.status?(this.hideDialog(),bds.util.showDialog(500,"不能重复求助")):(this.hideDialog(),bds.util.showDialog(500))}}}();var bds=bds||{};bds.se=bds.se||{},bds.se.collect=function(){function t(){r(),o()}function e(t,e){$.ajax({url:"http://xueshu.baidu.com/usercenter/data/collect?cmd="+t.cmd,dataType:"jsonp",data:t.data,timeout:1e3,success:function(n){e&&e(n),200==n.status?t.success&&t.success(n):t.error&&t.error()
},complete:function(e,n){"success"!==n&&t.error&&t.error()}})}function n(t){setTimeout(function(){t&&(u.find("span").html("已收藏"),u.addClass("collected"),u.attr({href:l+"&paper_id="+t}))},150)}function i(){setTimeout(function(){u.find("span").html("收藏失败")},150)}function s(t){var e="",n=navigator.userAgent,i=/MSIE (\d+).*/,s=n.match(i);e=s&&parseInt(s[1])<9?"收藏中...":['<span class="spinner">','<span class="bounce1"></span>','<span class="bounce2"></span>','<span class="bounce3"></span>',"</span>"].join(""),t.find("span").html(e)
}function o(){u.on("click",function(t){var o=$(this),a=$(".rightcontent .reqdata").attr("diversion"),r=c.attr("url");if(!o.hasClass("collected")&&!o.find(".spinner").length){if(1*bds.comm.isLogin!==1)return bds.se.login.open(),void t.preventDefault();e({cmd:"add_paper",data:{paper_url:r,diversion:a},success:function(t){n(t.data.id),t.achievement?bds.se.taskTipsDialog.showDialog(t.achievement):t.daytask&&bds.se.taskTipsDialog.showDialog(t.daytask)},error:function(){i(o)}}),s(o),t.preventDefault()}})
}function a(t){var e=c.attr("urlmd"),i=t.data;i&&i[e]&&n(i[e].favorite_papers_id)}function r(){if(1*bds.comm.isLogin===1){var t=[],n=c.attr("url");t.push(n),e({cmd:"judge_papers",data:{paper_urls:t},success:function(t){a(t)}})}}var u=$(".sc_collect"),l="http://xueshu.baidu.com/usercenter?tab=collect",c=$(".rightcontent .reqdata");return{init:t,getCollectInfo:r}}(),bds.se.collect.init(),bds.se.paperhelpSatatus=function(){function t(t){-1!==$.inArray(a,t)&&(o.text("查看求助"),i.attr({href:n,"data-help":"2"}),i.addClass("paperhelped"))
}function e(){$.ajax({url:"http://xueshu.baidu.com/usercenter/data/paperhelp",dataType:"jsonp",data:{cmd:"judge_papers",papers:r},success:function(e){200===e.status&&e.data&&e.data.length&&t(e.data)},complete:function(){}})}var n="http://xueshu.baidu.com/u/paperhelp?tab=my_sos",i=$(".rightcontent .sc_paperhelp"),s=$(".rightcontent .reqdata"),o=i.find(".paperhelp_text"),a=s.attr("urlmd"),r=[];return r[0]=[a,s.attr("longsign")],r=JSON.stringify(r),e}(),bds.se.paperhelpSatatus(),$(".maincontent .sc_paperhelp").on("click",function(t){var e=$(this),n=e.attr("data-help");
if("2"!==n){if(e.find(".spinner").length)return void t.preventDefault();if(1*bds.comm.isLogin!==1)return bds.se.login.open(),void t.preventDefault();var i=$(".rightcontent .reqdata"),s=$(".maincontent .t").text(),o=i.attr("url"),a=i.attr("longsign"),r={title:s,url:o,sc_longsign:a};bds.se.paperhelp({paperBtn:e,paperText:e.find(".paperhelp_text"),reqData:r}),t.preventDefault()}}),bds.util.setContentWidth=function(t){var e=bds.se.cookie.get("SC_SRC_RHIDE"),n=$("#wrapper");if("resize"!==t||null===e){if("1"===e)return void n.removeClass("wrapper_l").addClass("wrapper_s");
if("0"===e)return void n.removeClass("wrapper_s").addClass("wrapper_l");var i=bds.util.getWinWidth();1280>=i?n.removeClass("wrapper_l").addClass("wrapper_s"):n.removeClass("wrapper_s").addClass("wrapper_l")}},bds.doReady(),bds.util.setContentWidth(),$(window).on("resize",function(){bds.util.setContentWidth("resize")}),function(){var t=$(".leftcontent .loadframe");t.load(function(){$(".frameloading").hide()});var e=$(".headform .s_ipt_wr"),n=$(".headform #kw");e.on("mouseover",function(){e.addClass("ipthover")
}).on("mouseout",function(){e.removeClass("ipthover")}).on("click",function(){n.focus()}),n.on("focus",function(){e.addClass("iptfocus")}).on("blur",function(){e.removeClass("iptfocus")});var i="all 0.2s ease-out";$(".openright_btn").on("click",function(){$(".rightcontent,.leftcontent").css({transition:i,"-webkit-transtion":i,"-ms-transtion":i,"-moz-transtion":i}),$("#wrapper").addClass("wrapper_l").removeClass("wrapper_s"),bds.se.cookie.set("SC_SRC_RHIDE",0,{expires:31536e6})}),$(".hideright_btn").on("click",function(){$(".rightcontent,.leftcontent").css({transition:i,"-webkit-transtion":i,"-ms-transtion":i,"-moz-transtion":i}),$("#wrapper").addClass("wrapper_s").removeClass("wrapper_l"),bds.se.cookie.set("SC_SRC_RHIDE",1,{expires:31536e6})
}),$(".maincontent .dl_item_span ").on("click",function(){$(this).siblings().removeClass("select"),$(this).addClass("select")}),$(".maincontent .dl_item_span .dl_item").on("mouseover",function(){var t=$(this).parents(".dl_item_span");t.hasClass("select")||t.addClass("itemhover")}).on("mouseout",function(){$(this).parents(".dl_item_span").removeClass("itemhover")});var s=null;$(".maincontent .dl_item_span .dl_outlink").on("mouseover",function(){clearTimeout(s);var t=$(this).parents(".dl_item_span");
s=setTimeout(function(){$(".dl_outlink_hovertip").appendTo(t).show()},200)}).on("mouseout",function(){clearTimeout(s),$(".dl_outlink_hovertip").hide()});var o=null;$(".maincontent .dl_vurl_copybtn").each(function(t,e){var n=new Clipboard(e,{});n.on("success",function(){$(".maincontent .dl_vurl_copytip").addClass("aftercopy"),ns_c_xs({button_tp:"copybtn",fm:"beha"})}),$(".dl_vurl_copybtn").eq(t).on("mouseover",function(){var t=$(this).parents(".dl_item_span");clearTimeout(o),o=setTimeout(function(){$(".maincontent .dl_vurl_copytip").removeClass("aftercopy").appendTo(t).show()
},200)}).on("mouseout",function(){clearTimeout(o),$(".maincontent .dl_vurl_copytip").hide()})})}(),bds.comm.resultSug=bds.se.sug({submission:form_submit}),bds.comm.ishome&&bds.comm.resultSug.start(),bds.se.quote.init({needLog:1,logFuc:function(t){ns_c_xs({fm:"beha",title:t})},eventBtnClass:".sc_q",eventFn:function(t){var e=$(".rightcontent .reqdata").attr("url"),n=$(".rightcontent .reqdata").attr("diversion"),i=t.attr("data-sign");bds.se.quote.show({sign:i,diversion:n,url:e})}}),window.scr_rec=function(){var t="";
try{t+=[document.body.clientWidth,document.body.clientHeight,window.screenTop,window.screenLeft,window.screen.width,window.screen.height].join("_")}catch(e){}return t};var rsv_scr=scr_rec();ns_c_xs({fm:"se",rsv_scr:rsv_scr,rsv_trans_show:bds.comm.isTransShow});